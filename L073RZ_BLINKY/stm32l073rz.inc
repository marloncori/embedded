
 /**
  *************************************************************************
  * @file      stm32l073rz_cfg.s
  * @author    Millenium Robotics
  * @date	   05.10.2022 (Wednesday)
  * @brief     Assembly for a STM32L073rz board
  *				(cortex-m0+, thumb2 set instruction)
  *            This module performs:
  *				- set names for register memory values
  *				- create variables for bit configuration
  *********************************************************************************
  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  ********************************************************************************/

  .syntax unified
  .cpu cortex-m0plus
  .fpu softvfp
  .thumb

.section .data
/* RESET AND CLOCK CONTROL REGISTER */
 .set RCC_CR, 0x40021000
 .set RCC_IOPENR, 0x4002102C

 .set IOPAEN, 0x00000004
 .set IOPAEN, 0x00000001
 .set IOPBEN, 0x00000002
 .set IOPCEN, 0x00000004
 .set IOPDEN, 0x00000008

 .set RCC_AHBENR, 0x40021030
 .set RCC_APB2ENR, 0x40021034
 .set RCC_APB1ENR, 0x40021038

/* ************************************************************/
/* GPIO RELATED VARIABLES */
 .set GPIOD, 0X50000C00
 .set GPIOD_MODER, 0X50000C00
 .set GPIOD_OTYPER, 0X50000C04
 .set GPIOD_OSPEEDR, 0X50000C08
 .set GPIOD_PUPDR, 0X50000C0C
 .set GPIOD_IDR, 0X50000C10
 .set GPIOD_ODR, 0X50000C14
 .set GPIOD_BSRR, 0X50000C18
 .set GPIOD_AFRL, 0X50000C20
 .set GPIOD_BRR, 0X50000C28

 .set GPIOC, 0X50000800
 .set GPIOC_MODER, 0X50000800
 .set GPIOC_OTYPER, 0X50000804
 .set GPIOC_OSPEEDR, 0X50000808
 .set GPIOC_PUPDR, 0X5000080C
 .set GPIOC_IDR, 0X50000810
 .set GPIOC_ODR, 0X50000814
 .set GPIOC_BSRR, 0X50000818
 .set GPIOC_AFRL, 0X50000820
 .set GPIOC_BRR, 0X50000828

 .set GPIOB, 0X50000400
 .set GPIOB_MODER, 0X50000400
 .set GPIOB_OTYPER, 0X50000404
 .set GPIOB_OSPEEDR, 0X50000408
 .set GPIOB_PUPDR, 0X5000040C
 .set GPIOB_IDR, 0X50000410
 .set GPIOB_ODR, 0X50000414
 .set GPIOB_BSRR, 0X50000418
 .set GPIOB_AFRL, 0X50000420
 .set GPIOB_BRR, 0X50000428

 .set GPIOA, 0x50000000
 .set GPIOA_MODER, 0x50000000
 .set GPIOA_OTYPER, 0x50000004
 .set GPIOA_OSPEEDR, 0x50000008
 .set GPIOA_PUPDR, 0x5000000C
 .set GPIOA_IDR, 0x50000010
 .set GPIOA_ODR, 0x50000014
 .set GPIOA_BSRR, 0x50000018
 .set GPIOA_AFRL, 0x50000020
 .set GPIOA_BRR, 0x50000028

// ------------------------------------------------
 .set GPIOx_BSRR_BS15, 0x8000
 .set GPIOx_BSRR_BR15, 0x80000000
// ---------------------------
 .set GPIOx_BSRR_BS14, 0x4000
 .set GPIOx_BSRR_BR14, 0x40000000
// ---------------------------
 .set GPIOx_BSRR_BS13, 0x2000
 .set GPIOx_BSRR_BR13, 0x20000000
//---------------------------
 .set GPIOx_BSRR_BS12, 0x1000
 .set GPIOx_BSRR_BR12, 0x10000000
//---------------------------
 .set GPIOx_BSRR_BS11, 0x800
 .set GPIOx_BSRR_BR11, 0x8000000
//---------------------------
 .set GPIOx_BSRR_BS10, 0x400
 .set GPIOx_BSRR_BR10, 0X4000000
//---------------------------
 .set GPIOx_BSRR_BS9, 0X200
 .set GPIOx_BSRR_BR9, 0x2000000
//---------------------------
 .set GPIOx_BSRR_BS8, 0x100
 .set GPIOx_BSRR_BR8, 0x1000000
//---------------------------
 .set GPIOx_BSRR_BS7, 0x80
 .set GPIOx_BSRR_BR7, 0x800000
//---------------------------
 .set GPIOx_BSRR_BS6, 0x40
 .set GPIOx_BSRR_BR6, 0x400000
//---------------------------
 .set GPIOx_BSRR_BS5, 0x20
 .set GPIOx_BSRR_BR5, 0x200000
//---------------------------
 .set GPIOx_BSRR_BS4, 0x10
 .set GPIOx_BSRR_BR4, 0x100000
//---------------------------
 .set GPIOx_BSRR_BS3, 0x08
 .set GPIOx_BSRR_BR3, 0x080000
//---------------------------
 .set GPIOx_BSRR_BS2, 0x04
 .set GPIOx_BSRR_BR2, 0x040000
//---------------------------
 .set GPIOx_BSRR_BS1, 0x02
 .set GPIOx_BSRR_BR1, 0x020000
//---------------------------
 .set GPIOx_BSRR_BS0, 0x01
 .set GPIOx_BSRR_BR0, 0x010000
//---------------------------
 .set GPIOx_OTYPER_OTx_PUSH_PULL, 0x00

 .set GPIOx_OTYPER_OT15_OPEN_DRAIN, 0x8000
 .set GPIOx_OTYPER_OT14_OPEN_DRAIN, 0x4000
 .set GPIOx_OTYPER_OT13_OPEN_DRAIN, 0x2000
 .set GPIOx_OTYPER_OT12_OPEN_DRAIN, 0x1000
 .set GPIOx_OTYPER_OT11_OPEN_DRAIN, 0x800
 .set GPIOx_OTYPER_OT10_OPEN_DRAIN, 0x400
 .set GPIOx_OTYPER_OT9_OPEN_DRAIN, 0x200
 .set GPIOx_OTYPER_OT8_OPEN_DRAIN, 0x100
 .set GPIOx_OTYPER_OT7_OPEN_DRAIN, 0x80
 .set GPIOx_OTYPER_OT6_OPEN_DRAIN, 0x40
 .set GPIOx_OTYPER_OT5_OPEN_DRAIN, 0x20
 .set GPIOx_OTYPER_OT4_OPEN_DRAIN, 0x10
 .set GPIOx_OTYPER_OT3_OPEN_DRAIN, 0x08
 .set GPIOx_OTYPER_OT2_OPEN_DRAIN, 0x04
 .set GPIOx_OTYPER_OT1_OPEN_DRAIN, 0x02
 .set GPIOx_OTYPER_OT0_OPEN_DRAIN, 0x01
//----------------------------------------

.set GPIOx_OSPEEDR_OSPEEDx_VERY_LOW, 0x00

.set GPIOx_OSPEEDR_OSPEED15_LOW, 0x40000000
.set GPIOx_OSPEEDR_OSPEED15_MEDIUM, 0x80000000
.set GPIOx_OSPEEDR_OSPEED15_HIGH, 0xC0000000

.set GPIOx_OSPEEDR_OSPEED14_LOW, 0x10000000
.set GPIOx_OSPEEDR_OSPEED14_MEDIUM, 0x20000000
.set GPIOx_OSPEEDR_OSPEED14_HIGH, 0x30000000

.set GPIOx_OSPEEDR_OSPEED13_LOW, 0x4000000
.set GPIOx_OSPEEDR_OSPEED13_MEDIUM, 0x8000000
.set GPIOx_OSPEEDR_OSPEED13_HIGH, 0xC000000

.set GPIOx_OSPEEDR_OSPEED12_LOW, 0x1000000
.set GPIOx_OSPEEDR_OSPEED12_MEDIUM, 0x2000000
.set GPIOx_OSPEEDR_OSPEED12_HIGH, 0x3000000

.set GPIOx_OSPEEDR_OSPEED11_LOW, 0x400000
.set GPIOx_OSPEEDR_OSPEED11_MEDIUM, 0x800000
.set GPIOx_OSPEEDR_OSPEED11_HIGH, 0xC00000

.set GPIOx_OSPEEDR_OSPEED10_LOW, 0x100000
.set GPIOx_OSPEEDR_OSPEED10_MEDIUM, 0x200000
.set GPIOx_OSPEEDR_OSPEED10_HIGH, 0x300000

.set GPIOx_OSPEEDR_OSPEED9_LOW, 0x40000
.set GPIOx_OSPEEDR_OSPEED9_MEDIUM, 0x80000
.set GPIOx_OSPEEDR_OSPEED9_HIGH, 0xC0000

.set GPIOx_OSPEEDR_OSPEED8_LOW, 0x10000
.set GPIOx_OSPEEDR_OSPEED8_MEDIUM, 0x20000
.set GPIOx_OSPEEDR_OSPEED8_HIGH, 0x30000

.set GPIOx_OSPEEDR_OSPEED7_LOW, 0x4000
.set GPIOx_OSPEEDR_OSPEED7_MEDIUM, 0x8000
.set GPIOx_OSPEEDR_OSPEED7_HIGH, 0xC000

.set GPIOx_OSPEEDR_OSPEED6_LOW, 0x1000
.set GPIOx_OSPEEDR_OSPEED6_MEDIUM, 0x2000
.set GPIOx_OSPEEDR_OSPEED6_HIGH, 0x3000

.set GPIOx_OSPEEDR_OSPEED5_LOW, 0x400
.set GPIOx_OSPEEDR_OSPEED5_MEDIUM, 0x800
.set GPIOx_OSPEEDR_OSPEED5_HIGH, 0xC00

.set GPIOx_OSPEEDR_OSPEED4_LOW, 0x100
.set GPIOx_OSPEEDR_OSPEED4_MEDIUM, 0x200
.set GPIOx_OSPEEDR_OSPEED4_HIGH, 0x300

.set GPIOx_OSPEEDR_OSPEED3_LOW, 0x40
.set GPIOx_OSPEEDR_OSPEED3_MEDIUM, 0x80
.set GPIOx_OSPEEDR_OSPEED3_HIGH, 0xC0

.set GPIOx_OSPEEDR_OSPEED2_LOW, 0x10
.set GPIOx_OSPEEDR_OSPEED2_MEDIUM, 0x20
.set GPIOx_OSPEEDR_OSPEED2_HIGH, 0x30

.set GPIOx_OSPEEDR_OSPEED1_LOW, 0x04
.set GPIOx_OSPEEDR_OSPEED1_MEDIUM, 0x08
.set GPIOx_OSPEEDR_OSPEED1_HIGH, 0x0C

.set GPIOx_OSPEEDR_OSPEED0_LOW, 0x01
.set GPIOx_OSPEEDR_OSPEED0_MEDIUM, 0x02
.set GPIOx_OSPEEDR_OSPEED0_HIGH, 0x03
//-----------------------------------------------------------
.set GPIOx_PUPDR_PUPDx_NO_PUPD, 0x00

.set GPIOx_PUPDR_PUPD15_PU, 0x40000000
.set GPIOx_PUPDR_PUPD15_PD, 0x80000000

.set GPIOx_PUPDR_PUPD14_PU, 0x10000000
.set GPIOx_PUPDR_PUPD14_PD, 0x20000000

.set GPIOx_PUPDR_PUPD13_PU, 0x4000000
.set GPIOx_PUPDR_PUPD13_PD, 0x8000000

.set GPIOx_PUPDR_PUPD12_PU, 0x1000000
.set GPIOx_PUPDR_PUPD12_PD, 0x2000000

.set GPIOx_PUPDR_PUPD11_PU, 0x400000
.set GPIOx_PUPDR_PUPD11_PD, 0x800000

.set GPIOx_PUPDR_PUPD10_PU, 0x100000
.set GPIOx_PUPDR_PUPD10_PD, 0x200000

.set GPIOx_PUPDR_PUPD9_PU, 0x40000
.set GPIOx_PUPDR_PUPD9_PD, 0x80000

.set GPIOx_PUPDR_PUPD8_PU, 0x10000
.set GPIOx_PUPDR_PUPD8_PD, 0x20000

.set GPIOx_PUPDR_PUPD7_PU, 0x4000
.set GPIOx_PUPDR_PUPD7_PD, 0x8000

.set GPIOx_PUPDR_PUPD6_PU, 0x1000
.set GPIOx_PUPDR_PUPD6_PD, 0x2000

.set GPIOx_PUPDR_PUPD5_PU, 0x400
.set GPIOx_PUPDR_PUPD5_PD, 0x800

.set GPIOx_PUPDR_PUPD4_PU, 0x100
.set GPIOx_PUPDR_PUPD4_PD, 0x200

.set GPIOx_PUPDR_PUPD3_PU, 0x40
.set GPIOx_PUPDR_PUPD3_PD, 0x80

.set GPIOx_PUPDR_PUPD2_PU, 0x10
.set GPIOx_PUPDR_PUPD2_PD, 0x20

.set GPIOx_PUPDR_PUPD1_PU, 0x04
.set GPIOx_PUPDR_PUPD1_PD, 0x08

.set GPIOx_PUPDR_PUPD0_PU, 0x01
.set GPIOx_PUPDR_PUPD0_PD, 0x02
//-------------------------------------------------------------

.set GPIOx_MODER_MODEx_INPUT, 0X00

.set GPIOx_MODER_MODE15_OUTPUT, 0x40000000
.set GPIOx_MODER_MODE15_AF, 0x80000000
.set GPIOx_MODER_MODE15_ANALOG, 0xC0000000

.set GPIOx_MODER_MODE14_OUTPUT, 0x10000000
.set GPIOx_MODER_MODE14_AF, 0x20000000
.set GPIOx_MODER_MODE14_ANALOG, 0x30000000

.set GPIOx_MODER_MODE13_OUTPUT, 0x4000000
.set GPIOx_MODER_MODE13_AF, 0x8000000
.set GPIOx_MODER_MODE13_ANALOG, 0xC000000

.set GPIOx_MODER_MODE12_OUTPUT, 0x1000000
.set GPIOx_MODER_MODE12_AF, 0x2000000
.set GPIOx_MODER_MODE12_ANALOG, 0x3000000

.set GPIOx_MODER_MODE11_OUTPUT, 0x400000
.set GPIOx_MODER_MODE11_AF, 0x800000
.set GPIOx_MODER_MODE11_ANALOG, 0xC00000

.set GPIOx_MODER_MODE10_OUTPUT, 0x100000
.set GPIOx_MODER_MODE10_AF, 0x200000
.set GPIOx_MODER_MODE10_ANALOG, 0x300000

.set GPIOx_MODER_MODE9_OUTPUT, 0x40000
.set GPIOx_MODER_MODE9_AF, 0x80000
.set GPIOx_MODER_MODE9_ANALOG, 0xC0000

.set GPIOx_MODER_MODE8_OUTPUT, 0x10000
.set GPIOx_MODER_MODE8_AF, 0x20000
.set GPIOx_MODER_MODE8_ANALOG, 0x30000

.set GPIOx_MODER_MODE7_OUTPUT, 0x4000
.set GPIOx_MODER_MODE7_AF, 0x8000
.set GPIOx_MODER_MODE7_ANALOG, 0xC000

.set GPIOx_MODER_MODE6_OUTPUT, 0x1000
.set GPIOx_MODER_MODE6_AF, 0x2000
.set GPIOx_MODER_MODE6_ANALOG, 0x3000

.set GPIOx_MODER_MODE5_OUTPUT, 0x400
.set GPIOx_MODER_MODE5_AF, 0x800
.set GPIOx_MODER_MODE5_ANALOG, 0xC00

.set GPIOx_MODER_MODE4_OUTPUT, 0x100
.set GPIOx_MODER_MODE4_AF, 0x200
.set GPIOx_MODER_MODE4_ANALOG, 0x300

.set GPIOx_MODER_MODE3_OUTPUT, 0x40
.set GPIOx_MODER_MODE3_AF, 0x80
.set GPIOx_MODER_MODE3_ANALOG, 0xC0

.set GPIOx_MODER_MODE2_OUTPUT, 0x10
.set GPIOx_MODER_MODE2_AF, 0x20
.set GPIOx_MODER_MODE2_ANALOG, 0x30

.set GPIOx_MODER_MODE1_OUTPUT, 0x04
.set GPIOx_MODER_MODE1_AF, 0x08
.set GPIOx_MODER_MODE1_ANALOG, 0x0C

.set GPIOx_MODER_MODE0_OUTPUT, 0x01
.set GPIOx_MODER_MODE0_AF, 0x02
.set GPIOx_MODER_MODE0_ANALOG, 0x03
//-------------------------------------------------------------

.set GPIOx_BRR_BR15, 0x8000
.set GPIOx_BRR_BR14, 0x4000
.set GPIOx_BRR_BR13, 0x2000
.set GPIOx_BRR_BR12, 0x1000
.set GPIOx_BRR_BR11, 0x800
.set GPIOx_BRR_BR10, 0x400
.set GPIOx_BRR_BR9, 0x200
.set GPIOx_BRR_BR8, 0x100
.set GPIOx_BRR_BR7, 0x80
.set GPIOx_BRR_BR6, 0x40
.set GPIOx_BRR_BR5, 0x20
.set GPIOx_BRR_BR4, 0x10
.set GPIOx_BRR_BR3, 0x08
.set GPIOx_BRR_BR2, 0x04
.set GPIOx_BRR_BR1, 0x02
.set GPIOx_BRR_BR0, 0x01
//-------------------------------------------------------------

.set FLASH_BASE, 0x08000000
.set DATA_EEPROM_BASE, 0x08080000
.set DATA_EEPROM_BANK2_BASE, 0x08080C00
.set DATA_EEPROM_BANK1_END, 0x08080BFF
.set DATA_EEPROM_BANK2_END, 0x080817FF
.set SRAM_BASE, 0x20000000
.set SRAM_SIZE_MAX, 0x00005000

.set PERIPH_BASE, 0x40000000

.set APBPERIPH, PERIPH_BASE
.set AHBPERIPH, (PERIPH_BASE + 0x00020000)
.set IOPPERIPH, (PERIPH_BASE + 0x10000000)

.set TIM2,(APBPERIPH + 0x00000000)
.set TIM3,(APBPERIPH + 0x00000400)
.set TIM6,(APBPERIPH + 0x00001000)
.set TIM7,(APBPERIPH + 0x00001400)
.set LCD,(APBPERIPH + 0x00002400)
.set RTC,(APBPERIPH + 0x00002800)
.set WWDG,(APBPERIPH + 0x00002C00)
.set IWDG,(APBPERIPH + 0x00003000)
.set SPI2,(APBPERIPH + 0x00003800)
.set USART2,(APBPERIPH + 0x00004400)
.set LPUART1,(APBPERIPH + 0x00004800)
.set USART4,(APBPERIPH + 0x00004C00)
.set USART5,(APBPERIPH + 0x00005000)
.set I2C1,(APBPERIPH + 0x00005400)
.set I2C2,(APBPERIPH + 0x00005800)
.set CRS,(APBPERIPH + 0x00006C00)
.set PWR,(APBPERIPH + 0x00007000)
.set DAC,(APBPERIPH + 0x00007400)
.set LPTIM1,(APBPERIPH + 0x00007C00)
.set I2C3,(APBPERIPH + 0x00007800)

.set SYSCFG,(APBPERIPH + 0x00010000)
.set COMP1,(APBPERIPH + 0x00010018)
.set COMP2,(APBPERIPH + 0x0001001C)
.set COMP12,COMP1
.set EXTI,(APBPERIPH + 0x00010400)
.set TIM21,(APBPERIPH + 0x00010800)
.set TIM22,(APBPERIPH + 0x00011400)
.set FIREWALL,(APBPERIPH + 0x00011C00)
.set ADC1,(APBPERIPH + 0x00012400)
.set ADC,(APBPERIPH + 0x00012708)
.set SPI1,(APBPERIPH + 0x00013000)
.set USART1,(APBPERIPH + 0x00013800)
.set DBGMCU,(APBPERIPH + 0x00015800)

.set DMA1,(AHBPERIPH + 0x00000000)
.set DMA1_Channel1,(DMA1 + 0x00000008)
.set DMA1_Channel2,(DMA1 + 0x0000001C)
.set DMA1_Channel3,(DMA1 + 0x00000030)
.set DMA1_Channel4,(DMA1 + 0x00000044)
.set DMA1_Channel5,(DMA1 + 0x00000058)
.set DMA1_Channel6,(DMA1 + 0x0000006C)
.set DMA1_Channel7,(DMA1 + 0x00000080)
.set DMA1_CSELR,(DMA1 + 0x000000A8)

.set RCC,(AHBPERIPH + 0x00001000)
.set FLASH_R,(AHBPERIPH + 0x00002000)
.set OB,0x1FF80000
.set FLASHSIZE,0x1FF8007C
.set UID,0x1FF80050
.set CRC,(AHBPERIPH + 0x00003000)
.set TSC,(AHBPERIPH + 0x00004000)
.set RNG,(AHBPERIPH + 0x00005000)
